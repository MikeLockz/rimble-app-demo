(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{210:function(e,t,n){e.exports=n(495)},229:function(e,t){},231:function(e,t){},329:function(e,t){},410:function(e,t){},495:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(80),r=n.n(c),i=n(3),l=n(4),s=n(6),u=n(5),d=n(7),m=n(204),p=n(2),h=n(11),f=n(15),g=n.n(f),b=n(27),E=n(82),w=n.n(E),k=n(207),C=n.n(k),y=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).getNetworkCircleColor=function(){var e="#333";if(n.props.network)switch(n.props.network.id){case 1:e="#56b3ae";break;case 2:e="#000";break;case 3:e="#ed5a8d";break;case 4:e="#efc35c";break;case 42:e="#6a5ff6";break;default:e="#ccc"}return e},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={borderRadius:"50%",backgroundColor:this.getNetworkCircleColor(),height:"1em",width:"1em"};return o.a.createElement(p.d,{alignItems:"center"},o.a.createElement(p.a,{style:e,mr:2}),o.a.createElement(p.n,{style:{textTransform:"capitalize"}},this.props.network.name))}}]),t}(o.a.Component),j={fontSizes:[12,14,16,20,24,32,48,64],fontWeights:[0,300,400,600,700],lineHeights:{solid:1,title:1.25,copy:1.5},fonts:{serif:"athelas, georgia, times, serif",sansSerif:'"Source Sans Pro", -apple-system, sans-serif'},space:[0,4,8,16,32,64,128,256],radii:["0","4px","8px","16px"],width:[0,16,32,64,128,256],minWidths:[0,16,32,64,128,256],maxWidths:[0,16,32,64,128,256,512,768,1024,1536],heights:[0,16,32,64,128,256],minHeights:[0,16,32,64,128,256],maxHeights:[0,16,32,64,128,256],borders:[0,"1px solid"],shadows:["0","0px 2px 4px rgba(0, 0, 0, 0.1)","0 7px 14px rgba(50,50,93,.1)"],opacity:{disabled:.4},colors:{primary:"#4E3FCE",blue:"#007ce0",navy:"#004175",copyColor:"#3F3D4B",black:"#000e1a","near-black":"#111","dark-gray":"#333","mid-gray":"#555",grey:"#CCC",silver:"#999","light-silver":"#aaa","moon-gray":"#ccc","light-gray":"#eee","near-white":"#f4f4f4",white:"#fff",transparent:"transparent",blacks:["rgba(0,0,0,.0125)","rgba(0,0,0,.025)","rgba(0,0,0,.05)","rgba(0,0,0,.1)","rgba(0,0,0,.2)","rgba(0,0,0,.3)","rgba(0,0,0,.4)","rgba(0,0,0,.5)","rgba(0,0,0,.6)","rgba(0,0,0,.7)","rgba(0,0,0,.8)","rgba(0,0,0,.9)"],whites:["rgba(255,255,255,.0125)","rgba(255,255,255,.025)","rgba(255,255,255,.05)","rgba(255,255,255,.1)","rgba(255,255,255,.2)","rgba(255,255,255,.3)","rgba(255,255,255,.4)","rgba(255,255,255,.5)","rgba(255,255,255,.6)","rgba(255,255,255,.7)","rgba(255,255,255,.8)","rgba(255,255,255,.9)"]}},v=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(p.j,{isOpen:this.props.isOpen},o.a.createElement(p.c,{p:5,maxWidth:"960px"},o.a.createElement(p.o,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeConnectionModal}),o.a.createElement(p.d,{justifyContent:"center",alignContent:"stretch"},o.a.createElement(p.a,{width:"400px",flex:"1 1 auto"},o.a.createElement(p.d,{flexDirection:"column",alignContent:"center"},o.a.createElement(p.a,null,o.a.createElement(p.n,{color:j.colors.primary,caps:!0},"Current Network"),o.a.createElement(y,{network:this.props.currentNetwork})),o.a.createElement(p.a,{my:4},o.a.createElement(p.n,{color:j.colors.primary,caps:!0},"New to Bounties Explorer?"),o.a.createElement(p.n,{fontWeight:3,mt:3,mb:2},"What is connecting?"),o.a.createElement(p.n,null,"Connecting lets you use Bounties"),o.a.createElement(p.n,null,"Explore through your Ethereum account (the long cod that starts with 0x).")),o.a.createElement(p.n,{fontWeight:3},"You need to be connected to:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Post bounties"),o.a.createElement("li",null,"Discuss bounties"),o.a.createElement("li",null,"Fulfill bounties")))),o.a.createElement(p.d,{borderRight:1,borderColor:"#999",mx:3},o.a.createElement(p.n,null)),o.a.createElement(p.d,{flexDirection:"column",justifyContent:"space-between",p:3,flexShrink:"1"},o.a.createElement(p.d,{justifyContent:"center",my:4},o.a.createElement(p.f,{name:"Link",color:"#666",size:"40"})),o.a.createElement(p.e.h2,null,"How would you like to connect?"),o.a.createElement(p.n,{my:3},"Make sure you've set up MetaMask or your mobile wallet before you continue."),o.a.createElement(p.i,{onClick:this.props.validateAccount},"Connect with MetaMask"),o.a.createElement(p.d,{mt:3,mx:4,alignItems:"center"},o.a.createElement(p.g,{src:"/images/phone.png",alt:"mobile phone",width:"60",height:"92",mr:3}),o.a.createElement(p.d,{flexDirection:"column"},o.a.createElement(p.n,{fontWeight:3,mb:2},"Connect with a mobile app"),o.a.createElement(p.n,null,"You can connect from mobile browser wallets like Cipher, Status or Coinbase wallet.")))))))}}]),t}(o.a.Component),O=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(p.j,{isOpen:this.props.isOpen},o.a.createElement(p.c,{p:5,maxWidth:"960px"},o.a.createElement(p.o,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeConnectionPendingModal}),o.a.createElement(p.d,{justifyContent:"center",alignContent:"stretch"},o.a.createElement(p.a,{width:"400px",flex:"1 1 auto"},o.a.createElement(p.d,{flexDirection:"column",alignContent:"center"},o.a.createElement(p.a,null,o.a.createElement(p.n,{color:j.colors.primary,caps:!0},"Current Network"),o.a.createElement(y,{network:this.props.currentNetwork})),o.a.createElement(p.a,{my:4},o.a.createElement(p.n,{color:j.colors.primary,caps:!0},"New to Bounties Explorer?"),o.a.createElement(p.n,null,"It's possible to use your account's address to see all your blockchain activity. Only connect accounts you don't mind being linked to your Bounties Explorer profile.")),o.a.createElement(p.n,{fontWeight:3},"What does connection mean?"),o.a.createElement("ul",null,o.a.createElement("li",null,"Shares your Ethereum account address with us"),o.a.createElement("li",null,"Allows us to start transactions on the blockchain (at your request)")))),o.a.createElement(p.d,{borderRight:1,borderColor:"#999",mx:3},o.a.createElement(p.n,null)),o.a.createElement(p.d,{flexDirection:"column",p:3},o.a.createElement(p.d,{justifyContent:"center",my:4},o.a.createElement(p.f,{name:"Link",color:"#666",size:"40"})),o.a.createElement(p.e.h2,null,"Connect your account"),o.a.createElement(p.n,{mb:4},"A connection request should automatically appear. If not, open it using the MetaMask extension icon in your browser."),o.a.createElement(p.q,{message:"Waiting for connection confirmation...",secondaryMessage:"This won't cost your any Ether",icon:"InfoOutline"})))))}}]),t}(o.a.Component),M=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).sendMessageAgain=function(e){n.props.closeUserRejectedConnectionModal(e),n.props.openConnectionPendingModal(e),n.props.connectAccount()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(p.j,{isOpen:this.props.isOpen},o.a.createElement(p.c,{p:5,maxWidth:"600px"},o.a.createElement(p.o,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeUserRejectedConnectionModal}),o.a.createElement(p.d,{flexDirection:"column",justifyContent:"space-between"},o.a.createElement(p.d,{justifyContent:"center",my:4},o.a.createElement(p.f,{name:"Warning",color:"gold",size:"40"})),o.a.createElement(p.e.h2,{my:3},"You can't continue without connecting your account"),o.a.createElement(p.n,{my:4},"To use Bounties Explorer, you need to confirm the connection request. You can still browse as a guest."),o.a.createElement(p.d,{justifyContent:"flex-end",mt:4},o.a.createElement(p.k,{onClick:this.props.closeUserRejectedConnectionModal,mr:4},"Browse as guest"),o.a.createElement(p.b,{onClick:this.sendMessageAgain},"Send message again")))))}}]),t}(o.a.Component),x=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(p.j,{isOpen:this.props.isOpen},o.a.createElement(p.c,{p:5,maxWidth:"960px"},o.a.createElement(p.o,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeAccountValidationPendingModal}),o.a.createElement(p.d,{justifyContent:"center",alignContent:"stretch"},o.a.createElement(p.a,{width:"400px",flex:"1 1 auto"},o.a.createElement(p.d,{flexDirection:"column",alignContent:"center"},o.a.createElement(p.a,null,o.a.createElement(p.n,{color:j.colors.primary,caps:!0},"Current Network"),o.a.createElement(y,{network:this.props.currentNetwork})),o.a.createElement(p.a,{my:4},o.a.createElement(p.n,{color:j.colors.primary,caps:!0},"New to Bounties Explorer?"),o.a.createElement(p.n,{fontWeight:3},"The blockchain is public"),o.a.createElement(p.n,null,"It's possible to use your account's address to see all your blockchain activity. Only connect accounts you don't mind being linked to your Bounties Explorer profile.")))),o.a.createElement(p.d,{borderRight:1,borderColor:"#999",mx:3},o.a.createElement(p.n,null)),o.a.createElement(p.d,{flexDirection:"column",p:3},o.a.createElement(p.d,{justifyContent:"center",my:4},o.a.createElement(p.f,{name:"Link",color:"#666",size:"40"})),o.a.createElement(p.e.h2,null,"Verify your account"),o.a.createElement(p.n,{mb:4},"To connect securely and prove you have access to this account, sign the message in your MetaMask extension. A signature request should automatically appear. If not, open it using the MetaMask icon in your browser."),o.a.createElement(p.q,{message:"Waiting for connection confirmation...",secondaryMessage:"This won't cost your any Ether",icon:"InfoOutline"})))))}}]),t}(o.a.Component),A=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).sendMessageAgain=function(e){n.props.closeUserRejectedValidationModal(e),n.props.validateAccount()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(p.j,{isOpen:this.props.isOpen},o.a.createElement(p.c,{p:5,maxWidth:"600px"},o.a.createElement(p.o,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeUserRejectedValidationModal}),o.a.createElement(p.d,{flexDirection:"column",justifyContent:"space-between"},o.a.createElement(p.d,{justifyContent:"center",my:4},o.a.createElement(p.f,{name:"Warning",color:"gold",size:"40"})),o.a.createElement(p.e.h2,{my:3},"You can't continue without signing the message"),o.a.createElement(p.n,{my:4},"To use Bounties Explorer, you need to sign the message to finish connecting securely. You can still browse as a guest."),o.a.createElement(p.d,{justifyContent:"flex-end",mt:4},o.a.createElement(p.k,{onClick:this.props.closeUserRejectedValidationModal,mr:4},"Browse as guest"),o.a.createElement(p.b,{onClick:this.sendMessageAgain},"Send message again")))))}}]),t}(o.a.Component),V=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(v,{closeConnectionModal:this.props.modals.methods.closeConnectionModal,validateAccount:this.props.validateAccount,isOpen:this.props.modals.data.connectionModalIsOpen&&!this.props.accountValidated,currentNetwork:this.props.network.current}),o.a.createElement(O,{closeConnectionPendingModal:this.props.modals.methods.closeConnectionPendingModal,isOpen:this.props.modals.data.accountConnectionPending,currentNetwork:this.props.network.current}),o.a.createElement(M,{closeUserRejectedConnectionModal:this.props.modals.methods.closeUserRejectedConnectionModal,isOpen:this.props.modals.data.userRejectedConnect,connectAccount:this.props.initAccount,openConnectionPendingModal:this.props.modals.methods.openConnectionPendingModal}),o.a.createElement(x,{closeAccountValidationPendingModal:this.props.modals.methods.closeAccountValidationPendingModal,isOpen:this.props.modals.data.accountValidationPending,currentNetwork:this.props.network.current}),o.a.createElement(A,{closeUserRejectedValidationModal:this.props.modals.methods.closeUserRejectedValidationModal,isOpen:this.props.modals.data.userRejectedValidation,validateAccount:this.props.validateAccount}))}}]),t}(o.a.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,{style:{position:"fixed",bottom:0,left:0,right:0,width:"100%",backgroundColor:"white"},p:3},o.a.createElement(p.d,{alignItems:"center"},o.a.createElement(p.a,{p:4},o.a.createElement(p.f,{name:"Warning",color:"gold",size:"30"})),o.a.createElement(p.d,{flexDirection:"column"},o.a.createElement(p.n,{fontWeight:"bold"},"Looks like you're on the wrong network"),o.a.createElement(p.n,null,"You should be on the ",this.props.network.required.name," Ethereum network. You are currently connected to the ",o.a.createElement(p.n.span,{style:{textTransform:"capitalize"}},this.props.network.current.name)," Network - switch in your MetaMask extension."))))}}]),t}(o.a.Component),R=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({})}},{key:"render",value:function(){return o.a.createElement("div",null,!1===this.props.network.isCorrectNetwork&&this.props.web3?o.a.createElement(P,{network:this.props.network}):null)}}]),t}(o.a.Component),N=o.a.createContext({contract:{},account:{},accountBalance:{},accountBalanceLow:{},web3:{},transactions:{},checkPreflight:function(){},initWeb3:function(){},initContract:function(){},initAccount:function(){},rejectAccountConnect:function(){},accountValidated:{},accountValidationPending:{},rejectValidation:function(){},validateAccount:function(){},connectAndValidateAccount:function(){},network:{required:{},current:{},isCorrectNetwork:null,checkNetwork:function(){}},modals:{data:{connectionModalIsOpen:{},accountConnectionPending:{},userRejectedConnect:{},accountValidationPending:{},userRejectedValidation:{}},methods:{closeConnectionModal:function(){},openConnectionModal:function(){},closeConnectionPendingModal:function(){},openConnectionPendingModal:function(){},closeUserRejectedConnectionModal:function(){},closeValidationPendingModal:function(){},openValidationPendingModal:function(){},closeUserRejectedValidationModal:function(){}}}}),S=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).checkPreflight=function(){n.checkModernBrowser(),n.initWeb3()},n.checkModernBrowser=Object(b.a)(g.a.mark(function e(){var t,a,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=C.a.getParser(window.navigator.userAgent),a=t.parse().parsedResult,o=!!t.satisfies({desktop:{chrome:">49",firefox:">52",opera:">36"}}),n.setState({userAgent:a,validBrowser:o}),e.abrupt("return",o);case 5:case"end":return e.stop()}},e,this)})),n.initWeb3=Object(b.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){var a={};if(window.ethereum)console.log("Using modern web3 provider."),a=new w.a(window.ethereum);else if(window.web3)console.log("Legacy web3 provider. Try updating."),a=new w.a(window.web3.currentProvider);else{console.log("Non-Ethereum browser detected. Using Infura fallback.");var o=new w.a.providers.HttpProvider("https://rinkeby.infura.io:443");n.setState({web3Provider:o}),a=!1}n.setState({web3:a},function(){n.checkNetwork()})},function(e){console.log("Error initializing web3")}));case 1:case"end":return e.stop()}},e,this)})),n.initContract=function(){var e=Object(b.a)(g.a.mark(function e(t,a){var o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("creating contract"),e.prev=1,e.next=4,new n.state.web3.eth.Contract(a,t);case 4:o=e.sent,n.setState({contract:o}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Could not create contract."),window.toastProvider.addMessage("Contract creation failed.",{variant:"failure"});case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}(),n.initAccount=Object(b.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=Object(h.a)({},n.state.modals)).data.connectionModalIsOpen=!1,t.data.accountConnectionPending=!0,n.setState({modals:t}),e.prev=4,e.next=7,window.ethereum.enable().then(function(e){var a=e[0];t.data.accountConnectionPending=!1,n.setState({account:a,modals:t}),console.log("wallet address:",n.state.account),n.getAccountBalance(),n.pollAccountUpdates()});case 7:e.next=14;break;case 9:e.prev=9,e.t0=e.catch(4),console.log("User cancelled connect request. Error:",e.t0),window.toastProvider.addMessage("User needs to CONNECT wallet",{variant:"failure"}),n.rejectAccountConnect(e.t0);case 14:case"end":return e.stop()}},e,this,[[4,9]])})),n.rejectAccountConnect=function(e){var t=Object(h.a)({},n.state.modals);t.data.accountConnectionPending=!1,t.data.userRejectedConnect=!0,n.setState({modals:t})},n.getAccountBalance=Object(b.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.state.web3.eth.getBalance(n.state.account).then(function(e){e=n.state.web3.utils.fromWei(e,"ether"),e=parseFloat(e),n.setState({accountBalance:e}),console.log("account balance: ",e),n.determineAccountLowBalance()});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Failed to get account balance.");case 8:case"end":return e.stop()}},e,this,[[0,5]])})),n.determineAccountLowBalance=function(){var e="undefined"!==typeof n.props.config&&"undefined"!==typeof n.props.config.accountBalanceMinimum?n.props.config.accountBalanceMinimum:1,t=n.state.accountBalance<e;n.setState({accountBalanceLow:t})},n.validateAccount=Object(b.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("validateAccount"),n.state.account){e.next=6;break}return e.next=4,n.initAccount();case 4:if(n.state.account){e.next=6;break}return e.abrupt("return");case 6:return console.log("setting state to update UI"),(t=Object(h.a)({},n.state.modals)).data.accountConnectionPending=!1,t.data.accountValidationPending=!0,t.data.userRejectedValidation=!1,n.setState({modals:t}),console.log("Requesting web3 personal sign"),e.abrupt("return",window.web3.personal.sign(window.web3.fromUtf8("Hi there from Rimble! To connect, sign this message to prove you have access to this account. This won\u2019t cost you any Ether. To stop hackers pretending to be you, here\u2019s a unique message ID they won't be able to guess: 012345"),n.state.account,function(e,a){e?(console.log("Wallet account not validated. Error:",e),window.toastProvider.addMessage("Wallet account was not validated",{variant:"failure"}),n.rejectValidation(e)):(console.log("Account validation successful.",a),t.data.accountValidationPending=!1,n.setState({modals:t,accountValidated:!0}))}));case 14:case"end":return e.stop()}},e,this)})),n.rejectValidation=function(e){var t=Object(h.a)({},n.state.modals);t.data.userRejectedValidation=!0,t.data.accountValidated=!1,t.data.accountValidationPending=!1,n.setState({modals:t})},n.connectAndValidateAccount=Object(b.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.state.account&&n.state.accountValidated||n.openConnectionModal();case 1:case"end":return e.stop()}},e,this)})),n.getRequiredNetwork=function(){var e="undefined"!==typeof n.props.config&&"undefined"!==typeof n.props.config.requiredNetwork?n.props.config.requiredNetwork:1,t="";switch(e){case 1:t="Main";break;case 3:t="Ropsten";break;case 4:t="Rinkeby";break;case 42:t="Kovan";break;default:t="unknown"}var a={name:t,id:e},o=Object(h.a)({},n.state.network);o.required=a,n.setState({network:o})},n.getNetworkId=Object(b.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",n.state.web3.eth.net.getId(function(e,t){var a=Object(h.a)({},n.state.network.current);a.id=t;var o=Object(h.a)({},n.state.network);o.current=a,n.setState({network:o})}));case 4:e.prev=4,e.t0=e.catch(0),console.log("Could not get network ID: ",e.t0);case 7:case"end":return e.stop()}},e,this,[[0,4]])})),n.getNetworkName=Object(b.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",n.state.web3.eth.net.getNetworkType(function(e,t){var a=Object(h.a)({},n.state.network.current);a.name=t;var o=Object(h.a)({},n.state.network);o.current=a,n.setState({network:o})}));case 4:e.prev=4,e.t0=e.catch(0),console.log("Could not get network Name: ",e.t0);case 7:case"end":return e.stop()}},e,this,[[0,4]])})),n.checkNetwork=Object(b.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getRequiredNetwork(),e.next=3,n.getNetworkId();case 3:return e.next=5,n.getNetworkName();case 5:(t=Object(h.a)({},n.state.network)).isCorrectNetwork=n.state.network.current.id===n.state.network.required.id,n.setState({network:t});case 8:case"end":return e.stop()}},e,this)})),n.pollAccountUpdates=function(){var e=n.state.account,t=!1,a=setInterval(function(){n.state.modals.data.accountValidationPending||n.state.modals.data.accountConnectionPending||window.ethereum.enable().then(function(o){if(o[0]!==e&&(t=!0),t){clearInterval(a);var c=Object(h.a)({},n.state.modals);c.data.userRejectedConnect=null,n.setState({modals:c,account:"",accountValidated:null},function(){n.initAccount()})}})},1e3)},n.contractMethodSendWrapper=function(e){var t=n.createTransaction();n.addTransaction(t),t.method=e,t.type="contract",t.status="started",n.updateTransaction(t);var a=n.state,o=a.contract,c=a.account;try{o.methods[e]().send({from:c}).on("transactionHash",function(e){t.transactionHash=e,t.status="pending",t.recentEvent="transactionHash",n.updateTransaction(t)}).on("confirmation",function(e,a){t.confirmationCount+=1;1===t.confirmationCount?t.status="confirmed":t.confirmationCount<3||(3===t.confirmationCount?a.status?t.status="success":a.status||(t.status="error"):t.confirmationCount),t.recentEvent="confirmation",n.updateTransaction(t)}).on("receipt",function(e){t.recentEvent="receipt",n.updateTransaction(t)}).on("error",function(e){t.status="error",t.recentEvent="error",n.updateTransaction(t),window.toastProvider.addMessage("Value change failed",{secondaryMessage:"Could not change value.",actionHref:"",actionText:"",variant:"failure"})})}catch(r){t.status="error",n.updateTransaction(t),window.toastProvider.addMessage("Value change failed",{secondaryMessage:"Could not change value on smart contract",actionHref:"",actionText:"",variant:"failure"})}},n.createTransaction=function(){var e={};return e.created=Date.now(),e.lastUpdated=Date.now(),e.status="initialized",e.confirmationCount=0,e},n.addTransaction=function(e){var t=Object(h.a)({},n.state.transactions);t["tx".concat(e.created)]=e,n.setState({transactions:t})},n.updateTransaction=function(e){var t=Object(h.a)({},n.state.transactions),a=Object(h.a)({},e);a.lastUpdated=Date.now(),t["tx".concat(e.created)]=a,n.setState({transactions:t})},n.closeConnectionModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(h.a)({},n.state.modals);t.data.connectionModalIsOpen=!1,console.log("this.state",n.state),n.setState(function(e,n){return{modals:t}})},n.openConnectionModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(h.a)({},n.state.modals);t.data.connectionModalIsOpen=!0,n.setState({modals:t})},n.closeConnectionPendingModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(h.a)({},n.state.modals);t.data.connectionModalIsOpen=!1,n.setState(function(e,n){return{modals:t}})},n.openConnectionPendingModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(h.a)({},n.state.modals);t.data.accountConnectionPending=!0,n.setState(function(e,n){return{modals:t}})},n.closeUserRejectedConnectionModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(h.a)({},n.state.modals);t.data.userRejectedConnect=!1,n.setState(function(e,n){return{modals:t}})},n.closeValidationPendingModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(h.a)({},n.state.modals);t.data.accountConnectionPending=!1,n.setState(function(e,n){return{modals:t}})},n.openValidationPendingModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(h.a)({},n.state.modals);t.data.accountConnectionPending=!0,n.setState(function(e,n){return{modals:t}})},n.closeUserRejectedValidationModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(h.a)({},n.state.modals);t.data.userRejectedValidation=!1,n.setState(function(e,n){return{modals:t}})},n.state={contract:{},account:null,accountBalance:null,accountBalanceLow:null,web3:null,transactions:{},checkPreflight:n.checkPreflight,initWeb3:n.initWeb3,initContract:n.initContract,initAccount:n.initAccount,contractMethodSendWrapper:n.contractMethodSendWrapper,rejectAccountConnect:n.rejectAccountConnect,accountValidated:null,accountValidationPending:null,rejectValidation:n.rejectValidation,validateAccount:n.validateAccount,connectAndValidateAccount:n.connectAndValidateAccount,network:{required:{},current:{},isCorrectNetwork:null,checkNetwork:n.checkNetwork},modals:{data:{connectionModalIsOpen:null,accountConnectionPending:null,userRejectedConnection:null,accountValidationPending:null,userRejectedValidation:null},methods:{closeConnectionModal:n.closeConnectionModal,openConnectionModal:n.openConnectionModal,closeConnectionPendingModal:n.closeConnectionPendingModal,openConnectionPendingModal:n.openConnectionPendingModal,closeUserRejectedConnectionModal:n.closeUserRejectedConnectionModal,closeValidationPendingModal:n.closeValidationPendingModal,openValidationPendingModal:n.openValidationPendingModal,closeUserRejectedValidationModal:n.closeUserRejectedValidationModal}}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.checkPreflight()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(N.Provider,Object.assign({value:this.state},this.props)),o.a.createElement(V,{initAccount:this.state.initAccount,validateAccount:this.state.validateAccount,accountConnectionPending:this.state.accountConnectionPending,accountValidationPending:this.state.accountValidationPending,accountValidated:this.state.accountValidated,network:this.state.network,modals:this.state.modals}),o.a.createElement(R,{network:this.state.network,web3:this.state.web3}))}}]),t}(o.a.Component);S.Consumer=N.Consumer;var I=S,T=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,null,o.a.createElement(p.d,{alignItems:"center",justifyContent:"flex-end",bg:"white"},o.a.createElement(p.a,{mr:4},o.a.createElement(y,{network:this.props.network.current})),o.a.createElement(p.b,{m:3,onClick:this.props.connectAndValidateAccount,size:"small",backgroundColor:"white"},"Connect")),o.a.createElement(p.a,{bg:"primary",p:3,justifyContent:"center",flexDirection:"column"},o.a.createElement(p.a,{width:"400px",mx:"auto"},o.a.createElement(p.e.h2,{color:"white"},"Rimble App Demo"))))}}]),t}(o.a.Component),W={started:{message:"Change submitted",secondaryMessage:"Confirm in MetaMask",actionHref:"",actionText:"",variant:"default",icon:"InfoOutline"},pending:{message:"Processing change...",secondaryMessage:"This may take a few minutes",actionHref:"",actionText:"",variant:"processing"},confirmed:{message:"First block confirmed",secondaryMessage:"Your change is in progress",actionHref:"",actionText:"",variant:"processing"},success:{message:"Smart contract value changed",variant:"success"},error:{message:"Value change failed",secondaryMessage:"Make sure you have enough Ether (ETH) and try again",actionHref:"",actionText:"",variant:"failure"}},U=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).collectionHasNewObject=function(e,t){return"undefined"===typeof e||Object.keys(e).length!==Object.keys(t).length},n.getNewObjectFromCollection=function(e,t){if("undefined"!==typeof e){var n=Object.keys(t).filter(function(t){return!Object.keys(e).includes(t)});return t[n]}return Object.keys(t).map(function(e){return t[e]})},n.getUpdatedObjectFromCollection=function(e,t){return Object.keys(e).map(function(n){return e[n].lastUpdated!==t[n].lastUpdated?t[n]:null}).filter(function(e){return null!==e})[0]},n.getTransactionFromCollection=function(e,t){return t["tx".concat(e)]},n.getUpdatedTransaction=function(e,t){var a=null,o={},c={};return n.collectionHasNewObject(e,t)?a=n.getNewObjectFromCollection(e,t):(o=n.getUpdatedObjectFromCollection(e,t),c=n.getTransactionFromCollection(o.created,e),o.status!==c.status&&(a=o)),a},n.processTransactionUpdates=function(e){var t=null;Object.keys(n.props.transactions).length&&(t=n.getUpdatedTransaction(e.transactions,n.props.transactions)),null!==t&&"undefined"!==typeof t&&n.showTransactionToast(t)},n.showTransactionToast=function(e){var t=n.getTransactionToastMeta(e);window.toastProvider.addMessage(".",t)},n.getTransactionToastMeta=function(e){var t={};switch(e.status){case"started":t=W.started;break;case"pending":t=W.pending;break;case"confirmed":t=W.confirmed;break;case"success":t=W.success;break;case"error":t=W.error}return t},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.processTransactionUpdates(e)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(p.q.Provider,{ref:function(e){return window.toastProvider=e}}))}}]),t}(o.a.Component),D=(o.a.Component,n(208)),B=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={value:0,needsUpdate:!1},n.getNumber=function(e){Object(D.a)({},e);var t=n.props.contract;try{t.methods.getCounter().call().then(function(e){e=Number(e.toString()),n.setState({value:e,needsUpdate:!1})}).catch(function(e){console.log(e),n.setState({error:e})})}catch(a){console.log("error",a)}},n.processTransactionUpdates=function(e){Object.keys(n.props.transactions).map(function(e){return!("success"!==n.props.transactions[e].status||!n.state.needsUpdate)&&(console.log("Getting updated number."),n.getNumber(),!1)})},n.resetCounter=function(){n.props.contractMethodSendWrapper("reset")},n.incrementCounter=function(){n.props.contractMethodSendWrapper("incrementCounter"),n.setState({needsUpdate:!0})},n.decrementCounter=function(){n.props.contractMethodSendWrapper("decrementCounter"),n.setState({needsUpdate:!0})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){this.processTransactionUpdates(e)}},{key:"render",value:function(){return o.a.createElement(p.a,null,o.a.createElement(p.d,{px:0,pb:4,borderBottom:1,borderColor:"#E8E8E8",justifyContent:"space-between",alignItems:"end"},o.a.createElement(p.n,{mb:2,fontSize:3},"Smart contract value"),o.a.createElement(p.k,{size:"small",onClick:this.resetCounter,disabled:!this.props.account},"Reset")),o.a.createElement(p.a,{py:4},o.a.createElement(p.n,{fontSize:6,textAlign:"center"},this.state.value)),o.a.createElement(p.d,{px:0,pt:4,borderTop:1,borderColor:"#E8E8E8",justifyContent:"space-between"},o.a.createElement(p.b,{size:"medium",mr:4,onClick:this.incrementCounter},"Increase value"),o.a.createElement(p.b,{size:"medium",onClick:this.decrementCounter},"Decrease value")))}}]),t}(o.a.Component),z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(p.c,{width:"400px",mx:"auto",px:4},o.a.createElement(p.e.h2,{fontSize:3,textAlign:"center",px:4,mb:5},"Transactions"),o.a.createElement(p.a,null,Object.keys(this.props.transactions).length>0?o.a.createElement(p.d,null,o.a.createElement(p.n,{width:"33%",textAlign:"center",fontWeight:"bold"},"txHash"),o.a.createElement(p.n,{width:"33%",textAlign:"center",fontWeight:"bold"},"Status"),o.a.createElement(p.n,{width:"33%",textAlign:"center",fontWeight:"bold"},"Confirmations")):null,Object.keys(this.props.transactions).length<1?o.a.createElement(p.n,{textAlign:"center"},"No recent transactions"):Object.keys(this.props.transactions).map(function(t,n){var a="";if(e.props.transactions[t].transactionHash){var c=(a=e.props.transactions[t].transactionHash.toString()).substr(0,7),r=a.substr(a.length-4);a=c+"..."+r}return o.a.createElement(p.d,{key:n},o.a.createElement(p.n,{width:"33%",textAlign:"center"},a),o.a.createElement(p.n,{width:"33%",textAlign:"center"},e.props.transactions[t].status),o.a.createElement(p.n,{width:"33%",textAlign:"center"},e.props.transactions[t].confirmationCount))})))}}]),t}(o.a.Component),F=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(I.Consumer,null,function(e){var t=e.contract,n=e.account,a=e.transactions,c=e.initContract,r=(e.initAccount,e.contractMethodSendWrapper);return o.a.createElement("div",null,o.a.createElement(p.c,{width:"400px",mx:"auto",px:4},o.a.createElement(B,{contract:t,account:n,transactions:a,initContract:c,contractMethodSendWrapper:r})),o.a.createElement(z,{transactions:a}),o.a.createElement(U,{transactions:a}))})}}]),t}(o.a.Component),q=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(p.a,{width:"400px",mx:"auto",mt:4},o.a.createElement(p.e.h3,null,"Instructions:"),o.a.createElement("ol",null,o.a.createElement("li",null,o.a.createElement(p.n,{p:1},"Make sure MetaMask is working in your browser")),o.a.createElement("li",null,o.a.createElement(p.n,{p:1},"Set the network to Rinkeby Test Network")),o.a.createElement("li",null,o.a.createElement(p.n,{p:1},"You'll need a little bit of ETH for gas fees"))),o.a.createElement(p.d,{borderTop:1,borderColor:"#ccc",py:4,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.h,{href:"https://github.com/ConsenSys/rimble-app-demo",target:"_blank"},"View Code GitHub"),"default"===this.props.route?o.a.createElement(p.k,{size:"small",onClick:function(){return e.props.showRoute("onboarding")}},"Onboarding Debugger"):o.a.createElement(p.k,{size:"small",onClick:function(){return e.props.showRoute("default")}},"Default View")))}}]),t}(o.a.Component),L=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(p.j,{isOpen:this.props.isOpen},o.a.createElement(p.c,{p:5,maxWidth:"600px"},o.a.createElement(p.o,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeWrongNetworkModal}),o.a.createElement(p.d,{flexDirection:"column",justifyContent:"space-between"},o.a.createElement(p.d,{justifyContent:"center",my:4},o.a.createElement(p.f,{name:"Warning",color:"gold",size:"40"})),o.a.createElement(p.e.h2,{my:3},"Wrong Network"),o.a.createElement(p.n,{my:4},"Looks like your account is connected to the ",o.a.createElement(p.n.span,{style:{textTransform:"capitalize"}},this.props.network.current.name)," network. Head to MetaMask and switch to the ",this.props.network.required.name," network."),o.a.createElement(p.q,{message:"Waiting for the right network...",icon:"InfoOutline"}))))}}]),t}(o.a.Component),H=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(p.j,{isOpen:this.props.isOpen},o.a.createElement(p.c,{p:5,maxWidth:"960px"},o.a.createElement(p.o,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeTransactionConnectionModal}),o.a.createElement(p.d,{justifyContent:"center",alignContent:"stretch"},o.a.createElement(p.a,{width:"400px",flex:"1 1 auto"},o.a.createElement(p.d,{flexDirection:"column",alignContent:"center"},o.a.createElement(p.a,null,o.a.createElement(p.n,{color:j.colors.primary,caps:!0},"Current Network"),o.a.createElement(y,{network:this.props.currentNetwork})),o.a.createElement(p.a,{my:4},o.a.createElement(p.n,{color:j.colors.primary,caps:!0},"New to Bounties Explorer?"),o.a.createElement(p.n,null,"You need to be connected so you can use the funds stored in your Etherum account."),o.a.createElement(p.n,null,"Every blockchain action requires a small network fee.")),o.a.createElement(p.n,{fontWeight:3},"What's a network fee?"),o.a.createElement(p.n,null,"This fee pays for a person or group to add a record of your action to the blockchain and let the network know. It doesn't go to us."))),o.a.createElement(p.d,{borderRight:1,borderColor:"#999",mx:3},o.a.createElement(p.n,null)),o.a.createElement(p.d,{flexDirection:"column",p:3},o.a.createElement(p.d,{justifyContent:"center",my:4},o.a.createElement(p.f,{name:"Link",color:"#666",size:"40"})),o.a.createElement(p.e.h2,null,"Connect to continue"),o.a.createElement(p.n,{mb:4},"This action uses the blockchain, so you'll need to connect your Ethereum account to continue. That's the long code starting with ",o.a.createElement(p.n.span,{fontWeight:3},"0x"),"."),o.a.createElement(p.i,{onClick:this.props.validateAccount},"Connect with MetaMask")))))}}]),t}(o.a.Component),Y=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={showQR:!1},n.toggleQRVisible=function(){n.setState({showQR:!n.showQR})},n.RightColumn=function(){return o.a.createElement(p.d,{flexDirection:"column",p:3},o.a.createElement(p.d,{justifyContent:"center",my:4},o.a.createElement(p.f,{name:"Warning",color:"gold",size:"40"})),o.a.createElement(p.e.h2,null,"Low Funds"),o.a.createElement(p.n,{mb:4},"To use Bounties Explorer's block chain features, you'll need to own Ether. Deposit Ether into your account via your MetaMask extension or send Funds from another account."),o.a.createElement(p.l,{address:n.props.account}),o.a.createElement(p.a,{my:3},o.a.createElement(p.n.span,{bold:!0,fontWeight:3,mr:3},"Got another account on a mobile wallet?"),o.a.createElement(p.n.span,null,"Send funds by scanning your QR code with your wallet app.")),o.a.createElement(p.a,{mb:4},o.a.createElement(p.k,{onClick:n.toggleQRVisible},o.a.createElement(p.d,{alignItems:"center"},o.a.createElement(p.f,{name:"FilterCenterFocus",mr:2}),"Show account QR code"))),o.a.createElement(p.d,{justifyContent:"flex-end"},o.a.createElement(p.a,null,o.a.createElement(p.b,{onClick:n.props.closeLowFundsModal},"Continue to Bounties Explorer"))))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(p.j,{isOpen:this.props.isOpen},o.a.createElement(p.c,{p:5,maxWidth:"960px"},o.a.createElement(p.o,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeLowFundsModal}),o.a.createElement(p.d,{justifyContent:"center",alignContent:"stretch"},o.a.createElement(p.a,{width:"400px",flex:"1 1 auto"},o.a.createElement(p.d,{flexDirection:"column",alignContent:"center"},o.a.createElement(p.a,null,o.a.createElement(p.n,{color:j.colors.primary,caps:!0},"Current Network"),o.a.createElement(y,{network:this.props.currentNetwork})),o.a.createElement(p.a,{my:4},o.a.createElement(p.n,{color:j.colors.primary,caps:!0},"New to Ether?")),o.a.createElement(p.n,{fontWeight:3},"What you'll need Ether for:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Submitting a bounty"),o.a.createElement("li",null,"Paying for a completed bounty"),o.a.createElement("li",null,"Network fees")),o.a.createElement(p.n,{fontWeight:3},"What are network fees?"),o.a.createElement(p.n,null,"Network fees pay for a person or group to add a record of your action to the blockchain and let the network know. It doesn't go to us."))),o.a.createElement(p.d,{borderRight:1,borderColor:"#999",mx:3},o.a.createElement(p.n,null)),this.state.showQR?o.a.createElement(p.a,null,o.a.createElement(p.m,{value:this.props.account}),o.a.createElement(p.n,null,this.props.account)):this.RightColumn())))}}]),t}(o.a.Component),Q=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).closeWrongNetworkModal=function(e){e.preventDefault(),n.setState(function(e,t){return{wrongNetworkModalIsOpen:!1}})},n.openWrongNetworkModal=function(e){e.preventDefault(),n.setState(function(e,t){return{wrongNetworkModalIsOpen:!0}})},n.closeConnectionModal=function(e){e.preventDefault(),n.setState(function(e,t){return{connectionModalIsOpen:!1}})},n.openConnectionModal=function(e){e.preventDefault(),n.setState(function(e,t){return{connectionModalIsOpen:!0}})},n.closeConnectionPendingModal=function(e){e.preventDefault(),n.props.rejectAccountConnect()},n.openConnectionPendingModal=function(e){e.preventDefault(),n.setState(function(e,t){return{accountConnectionPending:!0}})},n.closeUserRejectedConnectionModal=function(e){e.preventDefault();var t=Object(h.a)({},n.props.modals);t.data.userRejectedConnect=!1,n.setState({modals:t})},n.openUserRejectedConnectionModal=function(e){e.preventDefault();var t=Object(h.a)({},n.props.modals);t.data.userRejectedConnect=!0,n.setState({modals:t})},n.closeTransactionConnectionModal=function(e){e.preventDefault(),n.setState(function(e,t){return{transactionConnectionModalIsOpen:!1}})},n.openTransactionConnectionModal=function(e){e.preventDefault(),n.setState(function(e,t){return{transactionConnectionModalIsOpen:!0}})},n.closeAccountValidationPendingModal=function(e){e.preventDefault(),n.setState(function(e,t){return{accountValidationPending:!1,userRejectedValidation:!0}})},n.openAccountValidationPendingModal=function(e){e.preventDefault(),n.setState(function(e,t){return{accountValidationPending:!0}})},n.closeUserRejectedValidationModal=function(e){e.preventDefault(),n.setState(function(e,t){return{userRejectedValidation:!1}})},n.openUserRejectedValidationModal=function(e){e.preventDefault(),n.setState(function(e,t){return{userRejectedValidation:!0}})},n.closeLowFundsModal=function(e){e.preventDefault(),n.setState(function(e,t){return{lowFundsModalIsOpen:!1}})},n.openLowFundsModal=function(e){e.preventDefault(),n.setState(function(e,t){return{lowFundsModalIsOpen:!0}})},n.state={wrongNetworkModalIsOpen:!1,connectionModalIsOpen:!1,userRejectedConnect:!1,transactionConnectionModalIsOpen:!1,lowFundsModalIsOpen:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({accountConnectionPending:e.modals.data.accountConnectionPending,closeConnectionPendingModal:e.modals.methods.closeConnectionPendingModal,accountValidationPending:e.modals.data.accountValidationPending,closeValidationPendingModal:e.modals.data.closeValidationPendingModal,userRejectedValidation:e.modals.data.userRejectedValidation})}},{key:"render",value:function(){var e=this;return o.a.createElement(p.c,{width:"600px",mx:"auto",px:4},o.a.createElement(p.e.h3,{textAlign:"center"},"Get Connected"),o.a.createElement(p.a,null,o.a.createElement(p.d,{alignItems:"center"},this.props.validBrowser?o.a.createElement(p.f,{name:"Check",color:"green",mr:2}):o.a.createElement(p.f,{name:"Close",color:"red",mr:2}),o.a.createElement(p.n,null,"Modern & Web3 Capable Browser")),this.props.validBrowser?null:o.a.createElement(p.d,{ml:4,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.d,{alignItems:"center"},o.a.createElement(p.f,{name:"Info",mr:2,color:"#999"}),o.a.createElement(p.n,{color:"#999"},"You current browser is not web3 capable.")),o.a.createElement(p.h,{href:"https://www.google.com/chrome/browser/",target:"_blank"},o.a.createElement(p.k,{size:"small"},"Download Chrome")))),o.a.createElement(p.a,null,o.a.createElement(p.d,{alignItems:"center"},this.props.web3?o.a.createElement(p.f,{name:"Check",color:"green",mr:2}):o.a.createElement(p.f,{name:"Close",color:"red",mr:2}),o.a.createElement(p.n,null,"Browser-connected Wallet")),!this.props.web3&&this.props.validBrowser?o.a.createElement(p.d,{ml:4,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.d,{alignItems:"center"},o.a.createElement(p.f,{name:"Info",mr:2,color:"#999"}),o.a.createElement(p.n,{color:"#999"},"You do not have a wallet.")),o.a.createElement(p.h,{href:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?hl=en",target:"_blank"},o.a.createElement(p.k,{size:"small"},"Get MetaMask Extension"))):null),this.props.web3?o.a.createElement(p.d,{py:3,my:3,borderTop:1,borderBottom:1,borderColor:"#E8E8E8",textAlign:"center",justifyContent:"space-around",alignItems:"center"},o.a.createElement(p.b,{size:"small",onClick:this.props.connectAndValidateAccount,disabled:!this.props.web3},"Connect and verify"),o.a.createElement(p.n,null,"- or -"),o.a.createElement(p.b,{size:"small",disabled:!0},"Initiate On-Chain Action")):null,o.a.createElement(p.a,null,o.a.createElement(p.d,{alignItems:"center"},this.props.network.isCorrectNetwork?o.a.createElement(p.f,{name:"Check",color:"green",mr:2}):o.a.createElement(p.f,{name:"Close",color:"red",mr:2}),o.a.createElement(p.n,null,"Correct Network")),this.props.web3&&!this.props.network.isCorrectNetwork?o.a.createElement(p.d,{ml:4,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.d,{alignItems:"center"},o.a.createElement(p.f,{name:"Info",mr:2,color:"#999"}),o.a.createElement(p.a,null,o.a.createElement(p.d,{alignItems:"center"},o.a.createElement(p.n,{mr:2,color:"#999",style:{textTransform:"capitalize"}},"Current network:"),o.a.createElement(y,{network:this.props.network.current})),o.a.createElement(p.d,{alignItems:"center"},o.a.createElement(p.n,{mr:2,color:"#999",style:{textTransform:"capitalize"}},"Required network:"),o.a.createElement(y,{network:this.props.network.required})))),o.a.createElement(p.k,{size:"small",onClick:this.props.checkNetwork},"Check Network")):null,this.props.web3&&this.props.isCorrectNetwork?o.a.createElement(p.d,{ml:4,alignItems:"center"},o.a.createElement(y,{network:this.props.network.current})):null),o.a.createElement(p.a,null,o.a.createElement(p.d,{alignItems:"center"},this.props.account&&this.props.accountValidated?o.a.createElement(p.f,{name:"Check",color:"green",mr:2}):o.a.createElement(p.f,{name:"Close",color:"red",mr:2}),o.a.createElement(p.n,null,"Wallet connected and verified")),this.props.account||!this.props.web3||this.props.userRejectedConnect?null:o.a.createElement(p.d,{ml:4,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.d,{alignItems:"center"},o.a.createElement(p.f,{name:"Info",mr:2,color:"#999"}),o.a.createElement(p.n,{color:"#999"},"Not connected to this dApp.")),o.a.createElement(p.k,{size:"small",onClick:this.props.initAccount},"Connect")),this.props.account&&this.props.web3?o.a.createElement(p.d,{ml:4,alignItems:"center"},o.a.createElement(p.f,{name:"Check",color:"green",mr:2}),o.a.createElement(p.a,null,o.a.createElement(p.n,{color:"#999"},"Connected wallet ",this.props.account),o.a.createElement(p.n,{color:this.props.accountBalanceLow?"red":"#999"},"Account balance ",this.props.accountBalance))):null,this.props.userRejectedConnect?o.a.createElement(p.d,{ml:4,justifyContent:"space-between"},o.a.createElement(p.d,{alignItems:"center"},o.a.createElement(p.f,{name:"Error",mr:2,color:"red"}),o.a.createElement(p.n,{color:"red"},"User rejected Connect request")),o.a.createElement(p.k,{size:"small",onClick:this.props.initAccount},"Connect")):null,null!==this.props.accountValidated&&!1!==this.props.accountValidated||!this.props.web3?null:o.a.createElement(p.d,{ml:4,my:1,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.d,{alignItems:"center"},o.a.createElement(p.f,{name:"Info",mr:2,color:"#999"}),o.a.createElement(p.n,{color:"#999"},"Account not verified")),o.a.createElement(p.k,{size:"small",onClick:this.props.validateAccount},"Validate")),!1===this.props.accountValidated?o.a.createElement(p.d,{ml:4,my:1,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.d,{alignItems:"center"},o.a.createElement(p.f,{name:"Error",mr:2,color:"red"}),o.a.createElement(p.n,{color:"red"},"Account not verified")),o.a.createElement(p.k,{size:"small",onClick:this.props.validateAccount},"Validate")):null,!1===this.props.userRejectedValidation?o.a.createElement(p.d,{ml:4},o.a.createElement(p.f,{name:"Error",mr:2,color:"red"}),o.a.createElement(p.n,{color:"red"},"Account not verified")):null),o.a.createElement(p.a,{mt:4,borderTop:1,borderColor:"#E8E8E8",pt:3},o.a.createElement(p.e.h4,{textAlign:"center"},"Show Modal"),o.a.createElement(p.b,{size:"small",onClick:this.openWrongNetworkModal,mr:2,mb:2},"Blocking Wrong Network"),o.a.createElement(p.b,{size:"small",onClick:this.openConnectionModal,mr:2,mb:2},"Connection"),o.a.createElement(p.b,{size:"small",onClick:this.openConnectionPendingModal,mr:2,mb:2},"Connection Pending"),o.a.createElement(p.b,{size:"small",onClick:this.openUserRejectedConnectionModal,mr:2,mb:2},"Connection Rejected"),o.a.createElement(p.b,{size:"small",onClick:this.openTransactionConnectionModal,mr:2,mb:2},"Transaction Connection"),o.a.createElement(p.b,{size:"small",onClick:this.openAccountValidationPendingModal,mr:2,mb:2},"Validation Pending"),o.a.createElement(p.b,{size:"small",onClick:this.openUserRejectedValidationModal,mr:2,mb:2},"User Rejected Validation"),o.a.createElement(p.b,{size:"small",onClick:function(t){e.props.validateAccount(t),e.openLowFundsModal(t)},mr:2,mb:2},"Low Funds")),o.a.createElement(L,{closeWrongNetworkModal:this.closeWrongNetworkModal,isOpen:this.state.wrongNetworkModalIsOpen,network:this.props.network}),o.a.createElement(v,{closeConnectionModal:this.closeConnectionModal,validateAccount:this.props.validateAccount,isOpen:this.state.connectionModalIsOpen&&!this.props.accountValidated,currentNetwork:this.props.network.current}),o.a.createElement(O,{closeConnectionPendingModal:this.state.closeConnectionPendingModal,isOpen:this.state.accountConnectionPending,currentNetwork:this.props.network.current}),o.a.createElement(M,{closeUserRejectedConnectionModal:this.closeUserRejectedConnectionModal,isOpen:this.props.modals.data.userRejectedConnect,connectAccount:this.props.initAccount,openConnectionPendingModal:this.openConnectionPendingModal}),o.a.createElement(H,{closeTransactionConnectionModal:this.closeTransactionConnectionModal,validateAccount:this.props.validateAccount,isOpen:this.state.transactionConnectionModalIsOpen&&!this.props.accountValidated,currentNetwork:this.props.network.current}),o.a.createElement(x,{closeAccountValidationPendingModal:this.closeAccountValidationPendingModal,isOpen:this.state.accountValidationPending,currentNetwork:this.props.network.current}),o.a.createElement(A,{closeUserRejectedValidationModal:this.closeUserRejectedValidationModal,isOpen:this.state.userRejectedValidation,validateAccount:this.props.validateAccount}),o.a.createElement(Y,{closeLowFundsModal:this.closeLowFundsModal,isOpen:this.state.lowFundsModalIsOpen,currentNetwork:this.props.network.current,account:this.props.account}),o.a.createElement(p.q.Provider,{ref:function(e){return window.toastProvider=e}}))}}]),t}(o.a.Component),G=n(1);function _(){var e=Object(m.a)(["\n  body, html {\n    margin: 0;\n    padding: 0;\n    background-color: #efefef;\n  }\n"]);return _=function(){return e},e}var J=Object(G.b)(_()),K=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={route:"default"},n.config={accountBalanceMinimum:1,requiredNetwork:4},n.showRoute=function(e){n.setState({route:e})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(p.p,{theme:j,className:"App"},o.a.createElement(I,{config:this.config},o.a.createElement(I.Consumer,null,function(t){t.needsPreflight;var n=t.validBrowser,a=t.userAgent,c=t.web3,r=t.account,i=t.accountBalance,l=t.accountBalanceLow,s=t.initAccount,u=t.rejectAccountConnect,d=t.userRejectedConnect,m=t.accountValidated,h=t.accountValidationPending,f=t.rejectValidation,g=t.userRejectedValidation,b=t.validateAccount,E=t.connectAndValidateAccount,w=t.modals,k=t.network;return o.a.createElement(p.a,{style:{paddingBottom:k.isCorrectNetwork?"0":"8em"}},o.a.createElement(T,{account:r,accountBalance:i,accountBalanceLow:l,initAccount:s,rejectAccountConnect:u,userRejectedConnect:d,accountValidated:m,accountValidationPending:h,rejectValidation:f,userRejectedValidation:g,validateAccount:b,connectAndValidateAccount:E,modals:w,network:k}),o.a.createElement(p.d,{justifyContent:"center",p:4},o.a.createElement(p.n,{width:"400px"},"This is a starter React dApp that uses the Rimble UI component library to call methods on a smart contract deployed to the Ethereum Rinkeby testnet.")),"default"===e.state.route?o.a.createElement(F,null):null,"onboarding"===e.state.route?o.a.createElement(Q,{validBrowser:n,userAgent:a,web3:c,account:r,accountBalance:i,accountBalanceLow:l,initAccount:s,rejectAccountConnect:u,userRejectedConnect:d,accountValidated:m,accountValidationPending:h,rejectValidation:f,userRejectedValidation:g,validateAccount:b,connectAndValidateAccount:E,modals:w,network:k}):null,o.a.createElement(q,{showRoute:e.showRoute,route:e.state.route}))})),o.a.createElement(J,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[210,2,1]]]);
//# sourceMappingURL=main.b0d83f58.chunk.js.map